function new_question(e){var t=document.getElementById("question");t.parentNode.removeChild(t);var s=questionHTML(e.question);btn.insertAdjacentHTML("beforebegin",s)}function append_error(e){var t='<section id="message" class="message message--error" role="alertdialog" aria-labelledby="message__title" aria-describedby="enp-message__list"><h3 class="message__title message__title--error">Error</h3><ul class="enp-message__list"><li class="enp-message__item">'+e[0]+"</li></ul></section>";btn.insertAdjacentHTML("afterend",t)}function questionHTML(e){var t='<fieldset id="question"><legend>'+e.question+"</legend>";return t+=expressionHTML(e.expression[0])+expressionHTML(e.expression[1]),t+="</fieldset>"}function expressionHTML(e){return'<label class="exp"><input type="radio" name="expression" value="'+e.name+'" /><img class="face" src="dist/img/'+e.image+'" alt="'+e.description+'" /></label>'}var btn=document.getElementById("submit"),test=document.getElementById("test"),request=new XMLHttpRequest;request.onreadystatechange=function(){var e=document.getElementById("message");null!==e&&e.parentNode.removeChild(e),4===request.readyState&&200===request.status&&(json=JSON.parse(request.responseText),json.error.length?append_error(json.error):new_question(json))},btn.addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("assessment");formData=new FormData(t),formData.append("ajax",!0),request.open("POST",t.action),request.send(formData)});